<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--2021-11-30 12:46:05,2,0,0,0--><!-- saved from url=(0014)about:internet -->
<!-- fitSharp
Copyright © Syterra Software Inc. All rights reserved.
The use and distribution terms for this software are covered by the Common Public License 1.0 (http://opensource.org/licenses/cpl.php)
which can be found in the file license.txt at the root of this distribution. By using this software in any fashion, you are agreeing
to be bound by the terms of this license. You must not remove this notice, or any other, from this software. -->
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <link href="../fitsharp1.css" type="text/css" rel="stylesheet">
  <link href="fit.css" type="text/css" rel="stylesheet">
  <title>Abandon Suite</title>
</head>
<body>
<div class="topbar"><a href="../FitSharp.html" class="siteid"><i>fit</i>Sharp</a></div>
<div class="pagename">Abandon Suite</div>
<div class="content">We can throw an exception AbandonTestSuiteException anywhere in fixture or <a href="../Fit/DomainAdapter.html">Domain Adapter</a> code to stop execution of the entire test suite. The exception can be constructed with a custom message which will appear in the test result. <pre class="code"> throw new AbandonTestSuiteException();
 throw new AbandonTestSuiteException("my message");</pre> <a href="../Fit/FolderRunner.html">Folder Runner</a> stops reading input files when the suite is abandoned.<br>
<br>
The following sets up two tests. The first one throws AbandonTestSuiteException so the second is not run. <pre class="test">test@<br /><br /><div><table><tr><td><span class="fit_member">make new folder</span><span><a href="javascript:void(0)" onclick="this.parentNode.nextSibling.style.display=this.parentNode.nextSibling.style.display=='none'?'':'none'">&#8659;</a></span><div style="display:none"><div class="fit_extension"><table border="1" cellpadding="2" cellspacing="0">
<tr><td><span class="fit_keyword">with</span></td><td><span class="fit_keyword">new</span></td><td><span class="fit_SUT">file system</span></td></tr>
<tr><td><span class="fit_member">make empty folder</span></td><td>test</td> </tr>
</table></div></div></td> <td>test</td> </tr></table><table><tr><td><span class="fit_member">make new folder</span><span><a href="javascript:void(0)" onclick="this.parentNode.nextSibling.style.display=this.parentNode.nextSibling.style.display=='none'?'':'none'">&#8659;</a></span><div style="display:none"><div class="fit_extension"><table border="1" cellpadding="2" cellspacing="0">
<tr><td><span class="fit_keyword">with</span></td><td><span class="fit_keyword">new</span></td><td><span class="fit_SUT">file system</span></td></tr>
<tr><td><span class="fit_member">make empty folder</span></td><td>test\input</td> </tr>
</table></div></div></td> <td>test\input</td> </tr></table></div><br /><div><table><tr><td><span class="fit_keyword">with</span></td> <td><span class="fit_member">new file</span><span><a href="javascript:void(0)" onclick="this.parentNode.nextSibling.style.display=this.parentNode.nextSibling.style.display=='none'?'':'none'">&#8659;</a></span><div style="display:none"><div class="fit_extension"><table border="1" cellpadding="2" cellspacing="0">
<tr><td><span class="fit_keyword">with</span></td><td><span class="fit_keyword">new</span></td><td><span class="fit_SUT">file system</span></td></tr>
<tr><td><span class="fit_keyword">return</span></td><td><span class="fit_member">make empty file</span></td><td>test\input\abandon.txt</td> </tr>
</table></div></div></td> <td>test\input\abandon.txt</td> </tr></table><table><tr><td><span class="fit_member">write line</span></td> <td>test@ sampledomainadapter</td> </tr></table><table><tr><td><span class="fit_member">write line</span></td> <td>throwabandonsuite</td> </tr></table></div><br /><div><table><tr><td><span class="fit_keyword">with</span></td> <td><span class="fit_member">new file</span><span><a href="javascript:void(0)" onclick="this.parentNode.nextSibling.style.display=this.parentNode.nextSibling.style.display=='none'?'':'none'">&#8659;</a></span><div style="display:none"><div class="fit_extension"><table border="1" cellpadding="2" cellspacing="0">
<tr><td><span class="fit_keyword">with</span></td><td><span class="fit_keyword">new</span></td><td><span class="fit_SUT">file system</span></td></tr>
<tr><td><span class="fit_keyword">return</span></td><td><span class="fit_member">make empty file</span></td><td>test\input\another.txt</td> </tr>
</table></div></div></td> <td>test\input\another.txt</td> </tr></table><table><tr><td><span class="fit_member">write line</span></td> <td>test@ garbage</td> </tr></table></div><br /><div><table><tr><td><span class="fit_keyword">with</span></td> <td><span class="fit_member">execute folder runner</span><span><a href="javascript:void(0)" onclick="this.parentNode.nextSibling.style.display=this.parentNode.nextSibling.style.display=='none'?'':'none'">&#8659;</a></span><div style="display:none"><div class="fit_extension"><table border="1" cellpadding="2" cellspacing="0">
<tr><td><span class="fit_keyword">with</span></td><td><span class="fit_member">new file</span><span><a href="javascript:void(0)" onclick="this.parentNode.nextSibling.style.display=this.parentNode.nextSibling.style.display=='none'?'':'none'">&#8659;</a></span><div style="display:none"><div class="fit_extension"><table border="1" cellpadding="2" cellspacing="0">
<tr><td><span class="fit_keyword">with</span></td><td><span class="fit_keyword">new</span></td><td><span class="fit_SUT">file system</span></td></tr>
<tr><td><span class="fit_keyword">return</span></td><td><span class="fit_member">make empty file</span></td><td>test\input\suiteconfig.xml</td></tr>
</table></div></div></td><td>test\input\suiteconfig.xml</td></tr>
<tr><td><span class="fit_member">write line</span></td><td>&lt;suiteConfig></td></tr>
<tr><td><span class="fit_member">write line</span></td><td>&lt;Settings></td></tr>
<tr><td><span class="fit_member">write line</span></td><td>&lt;runner>fit.Runner.FolderRunner&lt;/runner></td></tr>
<tr><td><span class="fit_member">write line with path</span></td><td>&lt;inputFolder>test\input&lt;/inputFolder></td></tr>
<tr><td><span class="fit_member">write line with path</span></td><td>&lt;outputFolder>test\output&lt;/outputFolder></td></tr>
<tr><td><span class="fit_member">write line</span></td><td>&lt;/Settings></td></tr>
<tr><td><span class="fit_member">write line</span></td><td>&lt;applicationUnderTest></td></tr>
<tr><td><span class="fit_member">write line</span></td><td>&lt;addNamespace>fit.Test.Double&lt;/addNamespace></td></tr>
<tr><td><span class="fit_member">write line</span></td><td>&lt;/applicationUnderTest></td></tr>
<tr><td><span class="fit_member">write line</span></td><td>&lt;/suiteConfig></td></tr>
</table>
<br>
<table border="1" cellpadding="2" cellspacing="0">
<tr><td><span class="fit_member">make new folder</span><span><a href="javascript:void(0)" onclick="this.parentNode.nextSibling.style.display=this.parentNode.nextSibling.style.display=='none'?'':'none'">&#8659;</a></span><div style="display:none"><div class="fit_extension"><table border="1" cellpadding="2" cellspacing="0">
<tr><td><span class="fit_keyword">with</span></td><td><span class="fit_keyword">new</span></td><td><span class="fit_SUT">file system</span></td></tr>
<tr><td><span class="fit_member">make empty folder</span></td><td>test\output</td></tr>
</table></div></div></td><td>test\output</td></tr>
</table>
<br>
<table border="1" cellpadding="2" cellspacing="0">
<tr><td><span class="fit_keyword">with</span></td><td><span class="fit_keyword">new</span></td><td><span class="fit_SUT">folder runner story</span></td></tr>
<tr><td><span class="fit_member">run</span></td><td>-c,test\input\suiteconfig.xml</td></tr>
<tr><td><span class="fit_keyword">return</span></td><td><span class="fit_keyword">current</span></td></tr>
</table></div></div></td> </tr></table><table><tr><td><span class="fit_keyword">check</span></td> <td><span class="fit_member">results</span></td> <td class="pass">0 right, 0 wrong, 0 ignored, 1 exceptions</td> </tr></table></div><br />@test</pre><br>
FitServer throws an exception when the suite is abandoned to make FitNesse stop sending tests.<br>
<br>
The following runs a suite with two tests. The first one throws AbandonTestSuiteException so the second is not run.<pre class="test">test@<br /><br /><div><table><tr><td><span class="fit_interpreter">configure</span></td> <td><span class="fit_SUT">processor</span></td> <td><span class="fit_member">add operator</span></td> <td>compareregex</td> </tr></table></div><br /><div><table><tr><td><span class="fit_SUT">fitnesse server</span></td> </tr></table><table><tr><td><span class="fit_member">add page</span></td> <td>test@,fit.Test.Double.SampleDomainAdapter,throwabandonsuite</td> </tr></table><table><tr><td><span class="fit_member">add page</span></td> <td>test@,garbage</td> </tr></table><table><tr><td><span class="fit_member">run</span></td> </tr></table><table><tr><td><span class="fit_keyword">check</span></td> <td><span class="fit_member">results</span></td> <td class="pass">/.*SampleDomainAdapter.* \(Test completed\) \(Suite abandoned\)/<span class="fit_grey"> test@<br /><div><table><tr><td><span class="fit_SUT">fit.Test.Double.SampleDomainAdapter</span></td> </tr></table><table><tr><td class="error"><span class="fit_member">throwabandonsuite</span><hr /><pre><div class="fit_stacktrace">fitSharp.Fit.Exception.AbandonSuiteException: Suite abandoned.
   at fit.Test.Double.SampleDomainAdapter.ThrowAbandonSuite() in /home/mikes/code/fitsharp/source/fitTest/Double/SampleDomainAdapter.cs:line 29</div></pre></td> </tr></table></div> (Test completed) (Suite abandoned)</span></td> </tr></table></div><br />@test</pre></div>
<div style="width:100%;text-align:right">
<span class="footer">Copyright &copy; 2020 Syterra Software Inc. All rights reserved.</span>
</div>

</body>
</html>
